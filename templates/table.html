{% extends 'index.html' %}

{% block title %} Table{% endblock %}

{% block content %}


<div id="table">
    <table id="table-data" class="table table-striped table-hover">
        <tr>
            <th>Name</th>
            <th>Age</th>
            <th>Role</th>
            <th>Company</th>
            <th>City</th>
            <th>Zipcode</th>
        </tr>
    </table>
</div>

<script>
    $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
</script>

<script>
    $(document).ready(function(){
        $.getJSON($SCRIPT_ROOT + '/tabledata', function(data) {
            var tableData = '';
            $.each(data, function(key, value){
                tableData += '<tr>';
                tableData += '<td><div contenteditable="true">'+value.name+'</div></td>';
                tableData += '<td><div contenteditable="true">'+value.age+'</div></td>';
                tableData += '<td><div contenteditable="true">'+value.role+'</div></td>';
                tableData += '<td><div contenteditable="true">'+value.company+'</div></td>';
                tableData += '<td><div contenteditable="true">'+value.city+'</div></td>';
                tableData += '<td><div contenteditable="true">'+value.zipcode+'</div></td>';
                tableData += '</tr>';
            });
            $('#table-data').append(tableData);
        })
        let div = document.querySelectorAll('div');
        div.focus();
    });

</script>
{% endblock %}
